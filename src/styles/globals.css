@import "tailwindcss";


/* 1. Tailwind config in CSS */
@theme {
  /* fonts */
  --font-sans: var(--font-family-body);
  --font-mono: var(--font-family-mono);

  /* map to Tailwind colour tokens so we get text-foreground-default etc */
  --color-foreground-default: var(--colors-foreground-default);
  --color-foreground-subtle: var(--colors-foreground-subtle);
  --color-foreground-subtler: var(--colors-foreground-subtler);
  --color-foreground-subtlest: var(--colors-foreground-subtlest);

  --breakpoint-auth-lg: 52rem;
}

/* 2. Plain CSS variables like you are used to */
:root {
  /* your palette (fill these with the right hex values) */
  --palette-neutral-black: #1d1f25;
  --palette-gray-gray500: #61666f;
  --palette-gray-gray400: #8e8f91;
  --palette-gray-gray300: #c4c4c6;

  /* Airtable style naming */
  --colors-foreground-default: var(--palette-neutral-black);
  --colors-foreground-subtle: var(--palette-gray-gray500);
  --colors-foreground-subtler: var(--palette-gray-gray400);
  --colors-foreground-subtlest: var(--palette-gray-gray300);

  /* fonts from before */
  --font-family-body: -apple-system, system-ui, BlinkMacSystemFont, 'Segoe UI',
    Roboto, Oxygen-Sans, Ubuntu, Cantarell, 'Helvetica Neue', sans-serif,
    'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';

  --font-family-heading: 'Inter Display', -apple-system, system-ui,
    BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen-Sans, Ubuntu, Cantarell,
    'Helvetica Neue', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji',
    'Segoe UI Symbol';

  --font-family-heading-legacy: 'GT Eesti Display', -apple-system, system-ui,
    BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen-Sans, Ubuntu, Cantarell,
    'Helvetica Neue', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji',
    'Segoe UI Symbol';

  --font-family-mono: Menlo, Courier, monospace;

  --font-size-body-xsmall: 9px;
  --font-size-body-small: 11px;
  --font-size-body-default: 13px;
  --font-size-body-large: 15px;

  --font-size-heading-xxsmall: 13px;
  --font-size-heading-xsmall: 15px;
  --font-size-heading-small: 17px;
  --font-size-heading-default: 21px;
  --font-size-heading-large: 23px;
  --font-size-heading-xlarge: 27px;
  --font-size-heading-xxlarge: 31px;
  --font-size-heading-xxxlarge: 35px;

  --line-height-3: 1.25;
  --line-height-4: 1.5;

  /* Elevation */
  --elevation-low: 0px 0px 1px rgba(0, 0, 0, 0.32),
    0px 0px 2px rgba(0, 0, 0, 0.08),
    0px 1px 3px rgba(0, 0, 0, 0.08);

  --elevation-low-hover: 0px 0px 1px rgba(0, 0, 0, 0.32),
    0px 0px 3px rgba(0, 0, 0, 0.11),
    0px 1px 4px rgba(0, 0, 0, 0.12);

  --elevation-medium: 0px 0px 1px 0px rgba(0, 0, 0, 0.24),
    0px 0px 2px 0px rgba(0, 0, 0, 0.08),
    0px 2px 4px 0px rgba(0, 0, 0, 0.08);

  --elevation-medium-hover: 0px 0px 1px 0px rgba(0, 0, 0, 0.48),
    0px 0px 2px 0px rgba(0, 0, 0, 0.08),
    0px 2px 4px 0px rgba(0, 0, 0, 0.12),
    0px 2px 8px 0px rgba(0, 0, 0, 0.08);

  --elevation-medium-right: 0px 0px 1px 0px rgba(0, 0, 0, 0.24),
    0px 0px 2px 0px rgba(0, 0, 0, 0.08),
    2px 0px 4px 0px rgba(0, 0, 0, 0.08);

  --elevation-high: 0px 0px 1px rgba(0, 0, 0, 0.24),
    0px 0px 2px rgba(0, 0, 0, 0.16),
    0px 3px 4px rgba(0, 0, 0, 0.06),
    0px 6px 8px rgba(0, 0, 0, 0.06),
    0px 12px 16px rgba(0, 0, 0, 0.08),
    0px 18px 32px rgba(0, 0, 0, 0.06);
}

/* 3. Global defaults */
@layer base {
  body {
    font-family: var(--font-family-body);
    @apply bg-white text-foreground-default;
  }

  button {
    cursor: pointer;
  }
  
  button:disabled {
    cursor: default;
  }

  /* utility classes (acts like tailwind extensions) */
  .shadow-elevation-low {
    box-shadow: var(--elevation-low);
  }
  .shadow-elevation-low-hover:hover {
    box-shadow: var(--elevation-low-hover);
  }
  .shadow-elevation-medium {
    box-shadow: var(--elevation-medium);
  }
  .shadow-elevation-medium-hover:hover {
    box-shadow: var(--elevation-medium-hover);
  }
  .shadow-elevation-medium-right {
    box-shadow: var(--elevation-medium-right);
  }
  .shadow-elevation-high {
    box-shadow: var(--elevation-high);
  }

  .text-foreground-subtle {
    color: var(--colors-foreground-subtle);
  }
}

/* Border color */
@layer base {
  :root {
    --ui-border: rgba(0, 0, 0, 0.1);
  }

  *, ::before, ::after {
    border-color: var(--ui-border);
  }
}

@layer utilities {
  /* Body text sizes */
  .text-body-xsmall {
    font-size: var(--font-size-body-xsmall);
  }

  .text-body-small {
    font-size: var(--font-size-body-small);
  }

  .text-body-default {
    font-size: var(--font-size-body-default);
  }

  .text-body-large {
    font-size: var(--font-size-body-large);
  }

  /* Heading text sizes */
  .text-heading-xxsmall {
    font-size: var(--font-size-heading-xxsmall);
  }

  .text-heading-xsmall {
    font-size: var(--font-size-heading-xsmall);
  }

  .text-heading-small {
    font-size: var(--font-size-heading-small);
  }

  .text-heading-default {
    font-size: var(--font-size-heading-default);
  }

  .text-heading-large {
    font-size: var(--font-size-heading-large);
  }

  .text-heading-xlarge {
    font-size: var(--font-size-heading-xlarge);
  }

  .text-heading-xxlarge {
    font-size: var(--font-size-heading-xxlarge);
  }

  .text-heading-xxxlarge {
    font-size: var(--font-size-heading-xxxlarge);
  }

  /* Line-height tokens */
  .leading-3-token {
    line-height: var(--line-height-3);
  }

  .leading-4-token {
    line-height: var(--line-height-4);
  }
}

/* utilities */
.border-box { box-sizing: border-box; }
.height-full { height: 100%; }
.flex { display: flex; }
.flex-column { flex-direction: column; }
.flex-auto { flex: 1 1 auto; }
.flex-none { flex: 0 0 auto; }
.items-center { align-items: center; }
.justify-between { justify-content: space-between; }
.justify-end { justify-content: flex-end; }
.relative { position: relative; }
.pointer { cursor: pointer; }
.circle { border-radius: 9999px; }
.pill { border-radius: 9999px; }

.gap2 { gap: 8px; }
.gap1-and-half { gap: 6px; }

.py2 { padding-top: 8px; padding-bottom: 8px; }
.px1 { padding-left: 4px; padding-right: 4px; }

.border-right { border-right-width: 1px; border-right-style: solid; }
.colors-background-default { background: var(--colors-background-default); }
.colors-border-default { border-color: var(--colors-border-default); }

.focus-ring:focus-visible {
  outline: 2px solid var(--colors-border-focus);
  outline-offset: 2px;
}

.control {
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--colors-background-raised-control);
  color: var(--colors-foreground-default);
  border: 0;
  padding: 0;
  transition: background var(--motion-standard-fast);
}

.control:hover {
  background: var(--colors-background-raised-control-hover);
}

.shadow-elevation-low {
  box-shadow: var(--elevation-low);
}

.shadow-elevation-low:hover {
  box-shadow: var(--elevation-low-hover);
}

.account {
  border: 0;
  padding: 0;
  background: transparent;
  display: flex;
  align-items: center;
  justify-content: center;
}

.userIcon {
  width: 24px;
  height: 24px;
  background: var(--palette-purple-purple);
  border: 1px solid var(--palette-neutral-white);
  display: flex;
  align-items: center;
  justify-content: center;
}

.userInitial {
  font-size: 11px;
  line-height: 11px;
  font-weight: 600;
  color: var(--palette-neutral-white);
}

.invisible { visibility: hidden; }

.notif-badge {
  position: absolute;
  top: -6px;
  right: -6px;
  height: 11px;
  min-width: 11px;
  padding: 0 3px;
  border-radius: 9999px;
  background: var(--palette-neutral-trueBlack);
  color: var(--palette-neutral-white);
  font-size: 8px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

/* ---- overall layout grid ---- */
.tableGrid{
  display:grid;
  grid-template-areas:
    "sub-header sub-header"
    "left-nav main-content";
  grid-template-rows:48px 1fr;
  grid-template-columns:280px 1fr;
  height:100%;
  min-height:0;
}

/* View bar */
.viewBar{
  background: var(--colors-background-default);
}

.viewPill{
  background: transparent;
  border: 0;
}
.viewPill:hover{
  background: var(--colors-background-selected);
}

.viewAction{
  background: transparent;
  border: 0;
  color: var(--colors-foreground-subtle);
}
.viewAction:hover{
  background: var(--colors-background-selected);
  color: var(--colors-foreground-default);
}

.iconButton{
  border:0;
  background:transparent;
  color: var(--colors-foreground-default);
}

.leftNavResizeHandle{
  position:absolute;
  top:0; right:0; bottom:0;
  cursor: col-resize;
  background: transparent;
}
.leftNavResizeHandle:hover{
  background: var(--colors-background-selected);
}

/* sidebar bits */
.sideButton{
  border: 0;
  background: transparent;
  padding: 8px 10px;
}
.sideButton:hover{
  background: var(--colors-background-selected);
}

.viewSearchInput{
  padding: 8px 10px 8px 30px;
  border-radius: 10px;
  border: 1px solid var(--colors-border-default);
  background: var(--colors-background-default);
  color: var(--colors-foreground-default);
}

.viewList{ margin:0; padding:4px; list-style:none; }
.viewListItem{
  padding: 8px 10px;
  border-radius: 12px;
}
.viewListItem.active{
  background: var(--colors-background-selected);
}
.visually-hidden-on-idle{ opacity:0; }
.viewListItem:hover .visually-hidden-on-idle{ opacity:1; }

/* ---- grid shell ---- */
.gridViewShell{
  height:100%;
  display:flex;
  flex-direction:column;
  background: var(--colors-background-subtler);
}

.paneContainer{
  position:relative;
  height:100%;
}

.headerAndDataRowContainer{
  position:relative;
  height: calc(100% - 44px); /* leaves space for summary bar */
  min-height:0;
}

.leftPaneWrapper,
.rightPaneWrapper{
  position:absolute;
  top:0;
  bottom:0;
}

.rightPaneWrapper{ right:0; }

.pane{
  position:absolute;
  left:0; right:0;
}

.headerPane{
  top:0;
  border-bottom: 1px solid var(--colors-border-default);
  background: var(--colors-background-default);
}

.dataPane{
  position:absolute;
  left:0; right:0; bottom:0;
  background: var(--colors-background-default);
}

.paneInnerContent{
  position:relative;
  height:100%;
}

/* header rows */
.headerRow{
  position:relative;
  height:32px;
}
.staticCellContainer{
  position:absolute;
  left:0;
  top:0;
  height:32px;
  width:84px;
  display:flex;
  align-items:center;
  justify-content:center;
  border-right: 1px solid var(--colors-border-default);
}

.rowNumberHeader .checkboxHeader{
  width:24px;
  height:24px;
  border-radius:8px;
  background: var(--palette-gray-gray700);
  display:flex;
  align-items:center;
  justify-content:center;
  color: white;
}

/* grid header cell block-out */
.gridHeaderCell{
  position:absolute;
  top:0;
  border-right: 1px solid var(--colors-border-default);
}

.gridHeaderCell .contentWrapper{
  height:32px;
  display:flex;
  align-items:center;
  padding: 0 6px;
  gap: 6px;
}

.nameAndDescription{
  display:flex;
  align-items:center;
  gap: 6px;
  min-width:0;
  flex: 1 1 auto;
}
.displayTypeIcon{ color: var(--colors-foreground-subtle); display:flex; }
.headerTitle{
  font-weight: 600;
  max-width: 100%;
  overflow:hidden;
  text-overflow:ellipsis;
  white-space:nowrap;
}

.menuButton{
  border:0;
  background:transparent;
  display:flex;
  align-items:center;
  justify-content:center;
  width:24px;
  height:24px;
  border-radius:8px;
}
.menuButton:hover{ background: var(--colors-background-selected); }

.resizeHandle{
  width: 6px;
  height: 100%;
  cursor: col-resize;
}
.resizeHandle .draggingLine{
  width:1px;
  height:70%;
  margin: 0 auto;
  background: transparent;
}

/* rows */
.dataRow{
  position:absolute;
  left:0;
  right:0;
  height:32px;
  border-bottom: 1px solid var(--colors-border-default);
}

.dataRow .cell{
  position:absolute;
  top:0;
  height:32px;
  border-right: 1px solid var(--colors-border-default);
  background: transparent;
}

.dataRow.left .staticCellContainer{
  justify-content:space-between;
  padding: 0 8px;
}

.rowNumberCell{
  display:flex;
  align-items:center;
  gap: 8px;
  min-width:0;
}
.numberText{ width: 12px; text-align:right; color: var(--colors-foreground-subtle); }
.checkboxCell{
  width:18px;
  height:18px;
  border-radius:6px;
  background: var(--palette-gray-gray700);
  display:flex;
  align-items:center;
  justify-content:center;
  color: white;
}

.expandButton{
  width:24px;
  height:24px;
  border-radius:8px;
  display:flex;
  align-items:center;
  justify-content:center;
  color: var(--colors-foreground-subtle);
}
.expandButton:hover{ background: var(--colors-background-selected); }

.ghostRow{ opacity: 0.45; }
.rowNumberGhost{
  width:84px;
  height:32px;
  display:flex;
  align-items:center;
  justify-content:center;
  border-right: 1px solid var(--colors-border-default);
}

/* pane divider */
.paneDivider{
  position:absolute;
  top:0; bottom:44px;
  width: 1px;
  pointer-events:none;
}
.paneDivider .line{
  width:1px;
  height:100%;
  background: var(--colors-border-default);
}
.paneDivider .tooltip{
  position:absolute;
  left:8px;
  transform: translateY(-50%);
  background: var(--colors-background-default);
  border: 1px solid var(--colors-border-default);
  border-radius: 10px;
  padding: 6px 8px;
  font-size: 12px;
  color: var(--colors-foreground-subtle);
  white-space:nowrap;
}

/* add field ghost */
.addFieldGhost{
  position:absolute;
  top:0;
  width: 48px;
  display:flex;
  align-items:center;
  justify-content:center;
  color: var(--colors-foreground-subtle);
}
.addFieldGhost:hover{
  background: var(--colors-background-selected);
}

/* ---- summary bar ---- */
.summaryBarContainer{
  position:absolute;
  left:0; right:0; bottom:0;
  height:44px;
  border-top: 1px solid var(--colors-border-default);
  background: var(--colors-background-default);
}

.summaryPane{ top:0; bottom:0; }

.summaryBar{
  position:relative;
  height:44px;
  display:flex;
  align-items:center;
  padding: 0 10px;
  gap: 10px;
}

.summaryPill{
  display:flex;
  border: 1px solid var(--colors-border-default);
  border-radius: 9999px;
  overflow:hidden;
  background: var(--colors-background-raised-surface);
}

.summaryAddButton,
.summaryAddMoreButton{
  border:0;
  background:transparent;
  padding: 8px 12px;
  display:flex;
  align-items:center;
  gap: 8px;
}
.summaryAddButton:hover,
.summaryAddMoreButton:hover{
  background: var(--colors-background-selected);
}

.summaryAddMoreGlyph{
  width: 14px;
  height: 14px;
  border-radius: 4px;
  border: 1px solid var(--colors-border-default);
}

.selectionCount{
  color: var(--colors-foreground-subtle);
  font-size: 13px;
}

.summaryCell{
  position:absolute;
  top: 8px;
  height: 28px;
  display:flex;
  align-items:center;
  justify-content:flex-end;
  padding-right: 8px;
  border-right: 1px solid var(--colors-border-default);
}
.summaryToggle{
  display:flex;
  align-items:center;
  gap: 4px;
  padding: 6px 8px;
  border-radius: 10px;
}
.summaryToggle:hover{ background: var(--colors-background-selected); }
.summaryLabel{
  font-size: 12px;
  color: var(--colors-foreground-subtle);
}
